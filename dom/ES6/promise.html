<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <h1>Promise and Asyn/Await</h1>

    <script>
        //creation
/*
        let p1 = new Promise((resolve, reject) => {
            let no = Math.trunc(Math.random() * 10)
            console.log('hello 2')
            if (no > 5) {
                resolve('fullfill')
            }
            else {
                reject('reject ')
            }
        })

        //consuming

        p1.then((item)=>{
            console.log(item);            
        }).catch((err)=>{
            console.log(err);
        })

*/

        //promise chaining
        function calc(arg){
            return new Promise((res,rej)=>{
                if(true){
                    setTimeout((item)=>{
                        res(arg)
                    },2000)
                }
                else{
                    rej('something wrong')
                }
            })
        }
        calc(10).then((item)=>{
            console.log("1st then",item);
            let x = item *10;
            return calc(x)
        }).then((item)=>{
            console.log("2nd then",item);
            let y = item *10;
            return calc(y)
        }).then((item)=>{
            console.log("3rd then",item);
        }).catch((err)=>{
            console.log(err);
        })
        
    </script>




</body>

</html>